define(function () { return function (__fest_context){"use strict";var __fest_self=this,__fest_buf="",__fest_chunks=[],__fest_chunk,__fest_attrs=[],__fest_select,__fest_if,__fest_iterator,__fest_to,__fest_fn,__fest_html="",__fest_blocks={},__fest_params,__fest_element,__fest_debug_file="",__fest_debug_line="",__fest_debug_block="",__fest_htmlchars=/[&<>"]/g,__fest_htmlchars_test=/[&<>"]/,__fest_short_tags = {"area":true,"base":true,"br":true,"col":true,"command":true,"embed":true,"hr":true,"img":true,"input":true,"keygen":true,"link":true,"meta":true,"param":true,"source":true,"wbr":true},__fest_element_stack = [],__fest_htmlhash={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"},__fest_jschars=/[\\'"\/\n\r\t\b\f<>]/g,__fest_jschars_test=/[\\'"\/\n\r\t\b\f<>]/,__fest_jshash={"\"":"\\\"","\\":"\\\\","/":"\\/","\n":"\\n","\r":"\\r","\t":"\\t","\b":"\\b","\f":"\\f","'":"\\'","<":"\\u003C",">":"\\u003E"},___fest_log_error;if(typeof __fest_error === "undefined"){___fest_log_error = (typeof console !== "undefined" && console.error) ? function(){return Function.prototype.apply.call(console.error, console, arguments)} : function(){};}else{___fest_log_error=__fest_error};function __fest_log_error(msg){___fest_log_error(msg+"\nin block \""+__fest_debug_block+"\" at line: "+__fest_debug_line+"\nfile: "+__fest_debug_file)}function __fest_replaceHTML(chr){return __fest_htmlhash[chr]}function __fest_replaceJS(chr){return __fest_jshash[chr]}function __fest_extend(dest, src){for(var i in src)if(src.hasOwnProperty(i))dest[i]=src[i];}function __fest_param(fn){fn.param=true;return fn}function __fest_call(fn, params,cp){if(cp)for(var i in params)if(typeof params[i]=="function"&&params[i].param)params[i]=params[i]();return fn.call(__fest_self,params)}function __fest_escapeJS(s){if (typeof s==="string") {if (__fest_jschars_test.test(s))return s.replace(__fest_jschars,__fest_replaceJS);} else if (typeof s==="undefined")return "";return s;}function __fest_escapeHTML(s){if (typeof s==="string") {if (__fest_htmlchars_test.test(s))return s.replace(__fest_htmlchars,__fest_replaceHTML);} else if (typeof s==="undefined")return "";return s;}var rating=__fest_context;__fest_buf+=("<div class=\"background_rating\"><div class=\"ava_best_player best_warrior\">1</div><div class=\"ava_best_player best_trade\">1</div><div class=\"ava_best_player best_corsar\">1</div><div class=\"position_table\">");try{var ratingObj = rating.get('mainObj');}catch(e){__fest_log_error(e.message);}var i,__fest_iterator0;try{__fest_iterator0=ratingObj || {};}catch(e){__fest_iterator={};__fest_log_error(e.message);}for(i in __fest_iterator0){try{__fest_element="div";if(typeof __fest_element !== "string"){__fest_log_error("Element name must be a string");__fest_element="div"}}catch(e){__fest_element="div";__fest_log_error(e.message);}__fest_element_stack.push(__fest_element);__fest_buf+=("<" + __fest_element);__fest_buf+=(" num=\"");try{__fest_buf+=(__fest_escapeHTML(i))}catch(e){__fest_log_error(e.message + "17");}__fest_buf+=("\" class=\"table_rating\"");__fest_element=__fest_element_stack[__fest_element_stack.length-1];__fest_buf+=(__fest_element in __fest_short_tags?"/>":"><div class=\"rating_mini_block rating_table_count\"><span>");try{__fest_buf+=(__fest_escapeHTML(i))}catch(e){__fest_log_error(e.message + "26");}__fest_buf+=("</span></div><div class=\"rating_mini_block rating_table_name\"><span>");try{__fest_buf+=(__fest_escapeHTML(ratingObj[i]['login']))}catch(e){__fest_log_error(e.message + "32");}__fest_buf+=("</span></div><div class=\"rating_mini_block rating_table_character\"><span>Герой</span></div><div class=\"rating_mini_block rating_table_race\">");try{__fest_element="img";if(typeof __fest_element !== "string"){__fest_log_error("Element name must be a string");__fest_element="div"}}catch(e){__fest_element="div";__fest_log_error(e.message);}__fest_element_stack.push(__fest_element);__fest_buf+=("<" + __fest_element);__fest_buf+=(" src=\"\/images\/rating\/");try{__fest_buf+=(__fest_escapeHTML(ratingObj[i]['race']))}catch(e){__fest_log_error(e.message + "45");}__fest_buf+=(".png\"");__fest_element=__fest_element_stack[__fest_element_stack.length-1];__fest_buf+=(__fest_element in __fest_short_tags?"/>":">");__fest_element = __fest_element_stack[__fest_element_stack.length - 1];if(!(__fest_element in __fest_short_tags)){__fest_buf+=("</" + __fest_element + ">")}__fest_element_stack.pop();__fest_buf+=("</div><div class=\"rating_mini_block rating_table_rank\"><div class=\"rank_rating rank_rating_1\">");try{__fest_element="img";if(typeof __fest_element !== "string"){__fest_log_error("Element name must be a string");__fest_element="div"}}catch(e){__fest_element="div";__fest_log_error(e.message);}__fest_element_stack.push(__fest_element);__fest_buf+=("<" + __fest_element);__fest_buf+=(" src=\"\/images\/rating\/rank\/");try{__fest_buf+=(__fest_escapeHTML(ratingObj[i]['rank']))}catch(e){__fest_log_error(e.message + "58");}__fest_buf+=(".png\"");__fest_element=__fest_element_stack[__fest_element_stack.length-1];__fest_buf+=(__fest_element in __fest_short_tags?"/>":">");__fest_element = __fest_element_stack[__fest_element_stack.length - 1];if(!(__fest_element in __fest_short_tags)){__fest_buf+=("</" + __fest_element + ">")}__fest_element_stack.pop();__fest_buf+=("</div></div><div class=\"rating_mini_block rating_table_exp\"><span>");try{__fest_buf+=(__fest_escapeHTML(ratingObj[i]['score']))}catch(e){__fest_log_error(e.message + "68");}__fest_buf+=("</span></div>");__fest_element = __fest_element_stack[__fest_element_stack.length - 1];if(!(__fest_element in __fest_short_tags)){__fest_buf+=("</" + __fest_element + ">")}__fest_element_stack.pop();try{__fest_element="div";if(typeof __fest_element !== "string"){__fest_log_error("Element name must be a string");__fest_element="div"}}catch(e){__fest_element="div";__fest_log_error(e.message);}__fest_element_stack.push(__fest_element);__fest_buf+=("<" + __fest_element);__fest_buf+=(" num=\"");try{__fest_buf+=(__fest_escapeHTML(i))}catch(e){__fest_log_error(e.message + "76");}__fest_buf+=("\" class=\"table_rating_info rating_open_human\" style=\"display:none\"");__fest_element=__fest_element_stack[__fest_element_stack.length-1];__fest_buf+=(__fest_element in __fest_short_tags?"/>":"><div class=\"rating_info_ava\"></div><div class=\"rating_count_kill\"><div class=\"name_table_rating_kill\">Убил:</div><table class=\"table_rating_count_kill\"><tr><td class=\"rating_td rating_kill_first\">dsdasd</td><td class=\"rating_td rating_kill_second\">dsadas</td><td class=\"rating_td rating_kill_third\">dasdsda</td><td class=\"rating_td rating_kill_fourth\">dsadasda</td></tr><tr><td class=\"rating_td rating_kill_first\">1</td><td class=\"rating_td rating_kill_second\">22</td><td class=\"rating_td rating_kill_third\">321</td><td class=\"rating_td rating_kill_fourth\">31231</td></tr></table></div>");__fest_element = __fest_element_stack[__fest_element_stack.length - 1];if(!(__fest_element in __fest_short_tags)){__fest_buf+=("</" + __fest_element + ">")}__fest_element_stack.pop();}__fest_buf+=("</div><div class=\"close_rating\"></div></div>");__fest_to=__fest_chunks.length;if (__fest_to) {__fest_iterator = 0;for (;__fest_iterator<__fest_to;__fest_iterator++) {__fest_chunk=__fest_chunks[__fest_iterator];if (typeof __fest_chunk==="string") {__fest_html+=__fest_chunk;} else {__fest_fn=__fest_blocks[__fest_chunk.name];if (__fest_fn) __fest_html+=__fest_call(__fest_fn,__fest_chunk.params,__fest_chunk.cp);}}return __fest_html+__fest_buf;} else {return __fest_buf;}} ; });